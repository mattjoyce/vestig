# Vestig Configuration

# Embedding configuration
embedding:
  model: "BAAI/bge-m3"
  dimension: 1024
  normalize: true

# Storage
storage:
  db_path: ./data/memory.db

# Retrieval
retrieval:
  default_limit: 5

# M2: Content hygiene (quality firewall)
hygiene:
  min_chars: 12
  max_chars: 4000
  normalize_whitespace: true
  reject_exact_duplicates: true
  near_duplicate:
    enabled: true
    threshold: 0.92

# M3: Time & Truth (TraceRank, temporal ranking)
m3:
  event_logging:
    enabled: true

  tracerank:
    enabled: true
    tau_days: 21          # Recency decay time constant (weeks)
    cooldown_hours: 24    # Anti-burst window (1 day)
    burst_discount: 0.2   # Weight for burst events (0-1)
    k: 0.35               # TraceRank boost strength

  retrieval:
    include_expired: false  # Show deprecated memories by default?
